# Задание 1

## Порядок запуска

1. Развернуть docker-контейнер с Redis: `docker run -d --name redis_test -p 6379:6379 redis`
2. Проверить в директории `ext` наличие файлов `php_redis.dll` и `php_redis.pdb`
3. Проверить в `php.ini` присутствие строки `extension = php_redis.dll`
4. В командной строке по текущему адресу выполнить команду `php Task-1/command.php [fiveSecondTimer | tenSecondTimer]`.
   Единственный аргумент отвечает за то, какая функция будет вызвана из файла `TimerScript`.

## Пояснение к работе

Для отслеживания запуска одного из скриптов используются записи в Redis
формата: `<название_скрипта>: <время_вызова_скрипта>`. Если ключ присутствует в Redis, алгоритм не дает запустить его
вновь. Ключ удаляется после завершения скрипта. Также ключ удаляется при прошествии 10 секунд (для случая аварийной
остановки во время работы).

Для работы с Redis был написан отдельный класс - `RedisMutex` - единственный публичный метод которого принимает на вход
callback функции, которую необходимо выполнить.

# Задание 2

## Порядок запуска

1. Развернуть Postgres на локальной машине.
2. Создать базу данных.
3. Создать таблицы и триггер (`db_create.sql`).
4. Заполнить таблицы тестовыми данными (`db_insert.sql`).

**ИЛИ**

1. Выполнить команду: `psql -U <пользователь> <название_БД> < shop_backup.psql`

## Пояснение к работе

Тригер написан таким образом, что после добавления строки в таблицу `request`, будет осуществлена проверка: если в
таблице `statistic` нет записей с датой и номером категории, как у только что созданного заказа, такая запись создается,
а количество продуктов (`amount`) для записи страновится равным количеству заказанных продуктов из только что
добавленной записи. Иначе, находится соответствующая запись `statistic` и в поле `amount` добавляется количество
заказанных продуктов.